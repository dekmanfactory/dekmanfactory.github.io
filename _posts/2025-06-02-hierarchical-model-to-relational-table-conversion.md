---
layout: single
title: "계층형 데이터 모델을 관계형 테이블로 변환하는 방법"
date: 2025-06-02
categories:
  - Database
  - Data-Modeling
  - Software-Engineering
tags:
  - 데이터베이스
  - 관계형모델
  - 계층형모델
  - 테이블설계
  - 객체관계매핑
  - 데이터모델링
  - 정규화
  - 데이터베이스설계
sidebar:
  nav: "main"
toc: true
toc_sticky: true
---

# 계층형 데이터 모델을 관계형 테이블로 변환하는 방법

데이터베이스 설계에서 계층형 모델(상위/하위 엔티티)을 물리적인 관계형 테이블 구조로 변환하는 것은 중요한 과정입니다. 특히 객체지향 개념의 상속 관계를 관계형 데이터베이스에 구현할 때 자주 마주하는 문제입니다.

## 계층형 모델이란?

계층형 모델은 일반적인 상위 엔티티(SuperType)와 이를 상속받는 여러 하위 엔티티(SubType)들로 구성됩니다. 예를 들어, '부동산 이해관계자'라는 상위 개념 아래에 '임차 계약자'와 '소유권자'라는 구체적인 하위 개념들이 있는 구조입니다.

## 주요 변환 방식

### 1. 단일 테이블 통합 방식 (Single Table)
모든 상위/하위 엔티티의 속성을 하나의 테이블로 통합하는 방식입니다.

**장점:**
- 구조가 단순함
- 조회 성능이 좋음
- 조인이 불필요

**단점:**
- 많은 NULL 값 발생
- 테이블 크기가 커짐
- 데이터 무결성 제약 설정이 어려움

### 2. 테이블 분리 방식 (Table per Type)
상위 엔티티와 각 하위 엔티티를 별도 테이블로 구성하는 방식입니다.

**장점:**
- 정규화된 구조
- 데이터 무결성 유지 용이
- 공통 속성 중복 방지

**단점:**
- 조회 시 조인 필요
- 복잡한 쿼리 구조
- 성능 오버헤드

### 3. 구체화된 테이블 방식 (Table per Concrete Class)
각 하위 엔티티마다 상위 속성을 모두 포함하는 완전한 테이블을 생성하는 방식입니다.

**장점:**
- 조인 불필요
- 각 하위 타입별 최적화 가능
- 명확한 테이블 구조

**단점:**
- 상위 속성의 중복 발생
- 공통 속성 변경 시 여러 테이블 수정 필요

## 피해야 할 방식

상위 엔티티의 속성을 하위 엔티티들에 임의로 분산 배치하는 수평 분할 방식은 권장되지 않습니다. 이는 데이터 모델의 무결성을 해치고, 엔티티 간 관계를 모호하게 만들어 실제 구현에서 많은 문제를 야기할 수 있습니다.

## 선택 기준

적절한 변환 방식은 다음 요소들을 고려하여 선택해야 합니다:

- **성능 요구사항**: 조회 빈도와 성능 중요도
- **데이터 무결성**: 제약 조건의 복잡성
- **확장성**: 향후 하위 타입 추가 가능성
- **유지보수성**: 개발 및 운영의 복잡도

각 프로젝트의 특성과 요구사항에 맞는 최적의 방식을 선택하는 것이 중요합니다.
